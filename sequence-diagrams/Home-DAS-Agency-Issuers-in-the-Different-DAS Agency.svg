<?xml version="1.0" encoding="utf-8" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 20010904//EN" "http://www.w3.org/TR/2001/REC-SVG-20010904/DTD/svg10.dtd"><svg xmlns="http://www.w3.org/2000/svg" width="2110" height="886" xmlns:xlink="http://www.w3.org/1999/xlink"><source><![CDATA[title: Home DAP Agency - Issuers in the Different DAP Agency

participant User
participant DA Issuer
participant DAP_1
participant DLT_1
participant DAP_2
participant DLT_2
participant Credential Issuer
participant VC Store

User->DA Issuer: Flow 1:Request a DA
DA Issuer->DAP_1: TA,DA Collision checks
DAP_1->DA Issuer: Success - Create DA + @DAP_ID suffix
DAP_1-->DLT_1: Save DA Metadata (DA,USER_DAP_ID,ISSUER_ID, DAP_AGENCY_ID)
DAP_1-->DAP_1: User Home DAP Established (DAP_1)
DAP_1->DA Issuer: DA Success
DA Issuer->User: Send DA (QR, Email, etc)
User->Credential Issuer: Flow 2: Request VC
Credential Issuer-> User: TA Collision + Link DA
Credential Issuer->DAP_2: Resolve HOME_DAP_ID from DA
DAP_2->DLT_2: Lookup DAP Suffix in DA
DLT_2->DAP_2: Resolved DAP_AGENCY_ID, DAP_DA
DAP_2->Credential Issuer: Resolved HOME_DAP_ID, DAP_DA
Credential Issuer->VC Store: Issue Credential
Credential Issuer-->DAP_2: Save Credential Metadata (DA, USER_DAP_ID, ISSUER_ID)
DAP_2-->DAP_1: Forward VC Metadata to Home DAP
DAP_1--> DLT_1: Save VC Metadata (DA,USER_DAP_ID, ISSUER_ID, DAP_AGENCY_ID)
DAP_1-->DAP_2: VC Save Success
DAP_2->User: VC Notification
]]></source><desc>Home DAP Agency - Issuers in the Different DAP Agency</desc><defs><marker viewBox="0 0 5 5" markerWidth="5" markerHeight="5" orient="auto" refX="5" refY="2.5" id="markerArrowBlock"><path d="M 0 0 L 5 2.5 L 0 5 z"></path></marker><marker viewBox="0 0 9.6 16" markerWidth="4" markerHeight="16" orient="auto" refX="9.6" refY="8" id="markerArrowOpen"><path d="M 9.6,8 1.92,16 0,13.7 5.76,8 0,2.286 1.92,0 9.6,8 z"></path></marker></defs><g class="title"><rect x="10" y="10" width="518.7999877929688" height="28" style="stroke-width: 2px;" stroke="#000000" fill="#ffffff"></rect><text x="15" y="28" style="font-size: 16px; font-family: Andale Mono, monospace;"><tspan x="15">Home DAP Agency - Issuers in the Different DAP Agency</tspan></text></g><g class="actor"><rect x="10" y="48" width="58.400001525878906" height="38" style="stroke-width: 2px;" stroke="#000000" fill="#ffffff"></rect><text x="20" y="71" style="font-size: 16px; font-family: Andale Mono, monospace;"><tspan x="20">User</tspan></text></g><g class="actor"><rect x="10" y="828" width="58.400001525878906" height="38" style="stroke-width: 2px;" stroke="#000000" fill="#ffffff"></rect><text x="20" y="851" style="font-size: 16px; font-family: Andale Mono, monospace;"><tspan x="20">User</tspan></text></g><line x1="39.20000076293945" x2="39.20000076293945" y1="86" y2="828" style="stroke-width: 2px;" stroke="#000000" fill="none"></line><g class="actor"><rect x="236.39999389648438" y="48" width="106.4000015258789" height="38" style="stroke-width: 2px;" stroke="#000000" fill="#ffffff"></rect><text x="246.39999389648438" y="71" style="font-size: 16px; font-family: Andale Mono, monospace;"><tspan x="246.39999389648438">DA Issuer</tspan></text></g><g class="actor"><rect x="236.39999389648438" y="828" width="106.4000015258789" height="38" style="stroke-width: 2px;" stroke="#000000" fill="#ffffff"></rect><text x="246.39999389648438" y="851" style="font-size: 16px; font-family: Andale Mono, monospace;"><tspan x="246.39999389648438">DA Issuer</tspan></text></g><line x1="289.5999946594238" x2="289.5999946594238" y1="86" y2="828" style="stroke-width: 2px;" stroke="#000000" fill="none"></line><g class="actor"><rect x="621.2000007629395" y="48" width="68" height="38" style="stroke-width: 2px;" stroke="#000000" fill="#ffffff"></rect><text x="631.2000007629395" y="71" style="font-size: 16px; font-family: Andale Mono, monospace;"><tspan x="631.2000007629395">DAP_1</tspan></text></g><g class="actor"><rect x="621.2000007629395" y="828" width="68" height="38" style="stroke-width: 2px;" stroke="#000000" fill="#ffffff"></rect><text x="631.2000007629395" y="851" style="font-size: 16px; font-family: Andale Mono, monospace;"><tspan x="631.2000007629395">DAP_1</tspan></text></g><line x1="655.2000007629395" x2="655.2000007629395" y1="86" y2="828" style="stroke-width: 2px;" stroke="#000000" fill="none"></line><g class="actor"><rect x="1207.600025177002" y="48" width="68" height="38" style="stroke-width: 2px;" stroke="#000000" fill="#ffffff"></rect><text x="1217.600025177002" y="71" style="font-size: 16px; font-family: Andale Mono, monospace;"><tspan x="1217.600025177002">DLT_1</tspan></text></g><g class="actor"><rect x="1207.600025177002" y="828" width="68" height="38" style="stroke-width: 2px;" stroke="#000000" fill="#ffffff"></rect><text x="1217.600025177002" y="851" style="font-size: 16px; font-family: Andale Mono, monospace;"><tspan x="1217.600025177002">DLT_1</tspan></text></g><line x1="1241.600025177002" x2="1241.600025177002" y1="86" y2="828" style="stroke-width: 2px;" stroke="#000000" fill="none"></line><g class="actor"><rect x="1295.600025177002" y="48" width="68" height="38" style="stroke-width: 2px;" stroke="#000000" fill="#ffffff"></rect><text x="1305.600025177002" y="71" style="font-size: 16px; font-family: Andale Mono, monospace;"><tspan x="1305.600025177002">DAP_2</tspan></text></g><g class="actor"><rect x="1295.600025177002" y="828" width="68" height="38" style="stroke-width: 2px;" stroke="#000000" fill="#ffffff"></rect><text x="1305.600025177002" y="851" style="font-size: 16px; font-family: Andale Mono, monospace;"><tspan x="1305.600025177002">DAP_2</tspan></text></g><line x1="1329.600025177002" x2="1329.600025177002" y1="86" y2="828" style="stroke-width: 2px;" stroke="#000000" fill="none"></line><g class="actor"><rect x="1603.600025177002" y="48" width="68" height="38" style="stroke-width: 2px;" stroke="#000000" fill="#ffffff"></rect><text x="1613.600025177002" y="71" style="font-size: 16px; font-family: Andale Mono, monospace;"><tspan x="1613.600025177002">DLT_2</tspan></text></g><g class="actor"><rect x="1603.600025177002" y="828" width="68" height="38" style="stroke-width: 2px;" stroke="#000000" fill="#ffffff"></rect><text x="1613.600025177002" y="851" style="font-size: 16px; font-family: Andale Mono, monospace;"><tspan x="1613.600025177002">DLT_2</tspan></text></g><line x1="1637.600025177002" x2="1637.600025177002" y1="86" y2="828" style="stroke-width: 2px;" stroke="#000000" fill="none"></line><g class="actor"><rect x="1766.8000144958496" y="48" width="183.1999969482422" height="38" style="stroke-width: 2px;" stroke="#000000" fill="#ffffff"></rect><text x="1776.8000144958496" y="71" style="font-size: 16px; font-family: Andale Mono, monospace;"><tspan x="1776.8000144958496">Credential Issuer</tspan></text></g><g class="actor"><rect x="1766.8000144958496" y="828" width="183.1999969482422" height="38" style="stroke-width: 2px;" stroke="#000000" fill="#ffffff"></rect><text x="1776.8000144958496" y="851" style="font-size: 16px; font-family: Andale Mono, monospace;"><tspan x="1776.8000144958496">Credential Issuer</tspan></text></g><line x1="1858.4000129699707" x2="1858.4000129699707" y1="86" y2="828" style="stroke-width: 2px;" stroke="#000000" fill="none"></line><g class="actor"><rect x="1983.6000175476074" y="48" width="96.80000305175781" height="38" style="stroke-width: 2px;" stroke="#000000" fill="#ffffff"></rect><text x="1993.6000175476074" y="71" style="font-size: 16px; font-family: Andale Mono, monospace;"><tspan x="1993.6000175476074">VC Store</tspan></text></g><g class="actor"><rect x="1983.6000175476074" y="828" width="96.80000305175781" height="38" style="stroke-width: 2px;" stroke="#000000" fill="#ffffff"></rect><text x="1993.6000175476074" y="851" style="font-size: 16px; font-family: Andale Mono, monospace;"><tspan x="1993.6000175476074">VC Store</tspan></text></g><line x1="2032.0000190734863" x2="2032.0000190734863" y1="86" y2="828" style="stroke-width: 2px;" stroke="#000000" fill="none"></line><g class="signal"><text x="73.20000076293945" y="115" style="font-size: 16px; font-family: Andale Mono, monospace;"><tspan x="73.20000076293945">Flow 1:Request a DA</tspan></text><line x1="39.20000076293945" x2="289.5999946594238" y1="124" y2="124" style="stroke-width: 2px; marker-end: url(&quot;#markerArrowBlock&quot;);" stroke="#000000" fill="none"></line></g><g class="signal"><text x="366.79999923706055" y="153" style="font-size: 16px; font-family: Andale Mono, monospace;"><tspan x="366.79999923706055">TA,DA Collision checks</tspan></text><line x1="289.5999946594238" x2="655.2000007629395" y1="162" y2="162" style="stroke-width: 2px; marker-end: url(&quot;#markerArrowBlock&quot;);" stroke="#000000" fill="none"></line></g><g class="signal"><text x="299.5999946594238" y="191" style="font-size: 16px; font-family: Andale Mono, monospace;"><tspan x="299.5999946594238">Success - Create DA + @DAP_ID suffix</tspan></text><line x1="655.2000007629395" x2="289.5999946594238" y1="200" y2="200" style="stroke-width: 2px; marker-end: url(&quot;#markerArrowBlock&quot;);" stroke="#000000" fill="none"></line></g><g class="signal"><text x="670.0000190734863" y="229" style="font-size: 16px; font-family: Andale Mono, monospace;"><tspan x="670.0000190734863">Save DA Metadata (DA,USER_DAP_ID,ISSUER_ID, DAP_AGENCY_ID)</tspan></text><line x1="655.2000007629395" x2="1241.600025177002" y1="238" y2="238" style="stroke-width: 2px; stroke-dasharray: 6px, 2px; marker-end: url(&quot;#markerArrowBlock&quot;);" stroke="#000000" fill="none"></line></g><g class="signal"><text x="680.2000007629395" y="272" style="font-size: 16px; font-family: Andale Mono, monospace;"><tspan x="680.2000007629395">User Home DAP Established (DAP_1)</tspan></text><line x1="655.2000007629395" x2="675.2000007629395" y1="258" y2="258" style="stroke-width: 2px; stroke-dasharray: 6px, 2px;" stroke="#000000" fill="none"></line><line x1="675.2000007629395" x2="675.2000007629395" y1="258" y2="281" style="stroke-width: 2px; stroke-dasharray: 6px, 2px;" stroke="#000000" fill="none"></line><line x1="675.2000007629395" x2="655.2000007629395" y1="281" y2="281" style="stroke-width: 2px; stroke-dasharray: 6px, 2px; marker-end: url(&quot;#markerArrowBlock&quot;);" stroke="#000000" fill="none"></line></g><g class="signal"><text x="424.39999771118164" y="305" style="font-size: 16px; font-family: Andale Mono, monospace;"><tspan x="424.39999771118164">DA Success</tspan></text><line x1="655.2000007629395" x2="289.5999946594238" y1="314" y2="314" style="stroke-width: 2px; marker-end: url(&quot;#markerArrowBlock&quot;);" stroke="#000000" fill="none"></line></g><g class="signal"><text x="49.20000076293945" y="343" style="font-size: 16px; font-family: Andale Mono, monospace;"><tspan x="49.20000076293945">Send DA (QR, Email, etc)</tspan></text><line x1="289.5999946594238" x2="39.20000076293945" y1="352" y2="352" style="stroke-width: 2px; marker-end: url(&quot;#markerArrowBlock&quot;);" stroke="#000000" fill="none"></line></g><g class="signal"><text x="862.4000053405762" y="381" style="font-size: 16px; font-family: Andale Mono, monospace;"><tspan x="862.4000053405762">Flow 2: Request VC</tspan></text><line x1="39.20000076293945" x2="1858.4000129699707" y1="390" y2="390" style="stroke-width: 2px; marker-end: url(&quot;#markerArrowBlock&quot;);" stroke="#000000" fill="none"></line></g><g class="signal"><text x="843.200008392334" y="419" style="font-size: 16px; font-family: Andale Mono, monospace;"><tspan x="843.200008392334">TA Collision + Link DA</tspan></text><line x1="1858.4000129699707" x2="39.20000076293945" y1="428" y2="428" style="stroke-width: 2px; marker-end: url(&quot;#markerArrowBlock&quot;);" stroke="#000000" fill="none"></line></g><g class="signal"><text x="1464.4000129699707" y="457" style="font-size: 16px; font-family: Andale Mono, monospace;"><tspan x="1464.4000129699707">Resolve HOME_DAP_ID from DA</tspan></text><line x1="1858.4000129699707" x2="1329.600025177002" y1="466" y2="466" style="stroke-width: 2px; marker-end: url(&quot;#markerArrowBlock&quot;);" stroke="#000000" fill="none"></line></g><g class="signal"><text x="1373.200023651123" y="495" style="font-size: 16px; font-family: Andale Mono, monospace;"><tspan x="1373.200023651123">Lookup DAP Suffix in DA</tspan></text><line x1="1329.600025177002" x2="1637.600025177002" y1="504" y2="504" style="stroke-width: 2px; marker-end: url(&quot;#markerArrowBlock&quot;);" stroke="#000000" fill="none"></line></g><g class="signal"><text x="1339.600025177002" y="533" style="font-size: 16px; font-family: Andale Mono, monospace;"><tspan x="1339.600025177002">Resolved DAP_AGENCY_ID, DAP_DA</tspan></text><line x1="1637.600025177002" x2="1329.600025177002" y1="542" y2="542" style="stroke-width: 2px; marker-end: url(&quot;#markerArrowBlock&quot;);" stroke="#000000" fill="none"></line></g><g class="signal"><text x="1459.600025177002" y="571" style="font-size: 16px; font-family: Andale Mono, monospace;"><tspan x="1459.600025177002">Resolved HOME_DAP_ID, DAP_DA</tspan></text><line x1="1329.600025177002" x2="1858.4000129699707" y1="580" y2="580" style="stroke-width: 2px; marker-end: url(&quot;#markerArrowBlock&quot;);" stroke="#000000" fill="none"></line></g><g class="signal"><text x="1868.4000129699707" y="609" style="font-size: 16px; font-family: Andale Mono, monospace;"><tspan x="1868.4000129699707">Issue Credential</tspan></text><line x1="1858.4000129699707" x2="2032.0000190734863" y1="618" y2="618" style="stroke-width: 2px; marker-end: url(&quot;#markerArrowBlock&quot;);" stroke="#000000" fill="none"></line></g><g class="signal"><text x="1339.600025177002" y="647" style="font-size: 16px; font-family: Andale Mono, monospace;"><tspan x="1339.600025177002">Save Credential Metadata (DA, USER_DAP_ID, ISSUER_ID)</tspan></text><line x1="1858.4000129699707" x2="1329.600025177002" y1="656" y2="656" style="stroke-width: 2px; stroke-dasharray: 6px, 2px; marker-end: url(&quot;#markerArrowBlock&quot;);" stroke="#000000" fill="none"></line></g><g class="signal"><text x="843.6000099182129" y="685" style="font-size: 16px; font-family: Andale Mono, monospace;"><tspan x="843.6000099182129">Forward VC Metadata to Home DAP</tspan></text><line x1="1329.600025177002" x2="655.2000007629395" y1="694" y2="694" style="stroke-width: 2px; stroke-dasharray: 6px, 2px; marker-end: url(&quot;#markerArrowBlock&quot;);" stroke="#000000" fill="none"></line></g><g class="signal"><text x="665.2000007629395" y="723" style="font-size: 16px; font-family: Andale Mono, monospace;"><tspan x="665.2000007629395">Save VC Metadata (DA,USER_DAP_ID, ISSUER_ID, DAP_AGENCY_ID)</tspan></text><line x1="655.2000007629395" x2="1241.600025177002" y1="732" y2="732" style="stroke-width: 2px; stroke-dasharray: 6px, 2px; marker-end: url(&quot;#markerArrowBlock&quot;);" stroke="#000000" fill="none"></line></g><g class="signal"><text x="920.4000129699707" y="761" style="font-size: 16px; font-family: Andale Mono, monospace;"><tspan x="920.4000129699707">VC Save Success</tspan></text><line x1="655.2000007629395" x2="1329.600025177002" y1="770" y2="770" style="stroke-width: 2px; stroke-dasharray: 6px, 2px; marker-end: url(&quot;#markerArrowBlock&quot;);" stroke="#000000" fill="none"></line></g><g class="signal"><text x="612.4000129699707" y="799" style="font-size: 16px; font-family: Andale Mono, monospace;"><tspan x="612.4000129699707">VC Notification</tspan></text><line x1="1329.600025177002" x2="39.20000076293945" y1="808" y2="808" style="stroke-width: 2px; marker-end: url(&quot;#markerArrowBlock&quot;);" stroke="#000000" fill="none"></line></g></svg>