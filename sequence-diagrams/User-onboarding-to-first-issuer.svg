<?xml version="1.0" encoding="utf-8" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 20010904//EN" "http://www.w3.org/TR/2001/REC-SVG-20010904/DTD/svg10.dtd"><svg xmlns="http://www.w3.org/2000/svg" width="2601" height="1425" xmlns:xlink="http://www.w3.org/1999/xlink"><source><![CDATA[Title: User onboarding to first issuer
Participant User
Participant DAA
Participant Issuer
Participant Cloud Agent
Participant DAP
Participant GADI
User -> Issuer: I want to get Digital Address (provide authentication + accept T&C)\n Issuer has ID-proofed user before
Issuer -> Issuer: lookup ID-Attribs for that user
Issuer -> Issuer: compute HIDA = hash(ID-Attribs)
Issuer -> DAP: securely send HIDA
DAP -> GADI: lookup TA_USER_ISSUER for HIDA
GADI -> GADI: lookup TA for HIDA
GADI -> GADI: if TA not found: generate TA = random
GADI -> GADI: store HIDA, HomeDAP-ID=DAP-ID, TA (in DLT)
GADI --> DAP: No conflict with TA. \nReturn TA_USER_ISSUER = hash(TA, ISSUER_ID)
DAP -> DAP: Create DA and DAP_USER_ID 
DAP -> DAP: Remember (TA_USER_ISSUER, DAP_USER_ID) in DLT
DAP -> GADI: Send HIDA, TA_USER_ISSUER, DA to notify about DA
GADI -> GADI: Remember DA exists for HIDA\n(don’t store DA!)
GADI --> DAP: Success
DAP --> Issuer: Return TA_USER_ISSUER, DAP_USER_ID, DA
Issuer -> Issuer: Remember DA for user in userDB
Issuer -> Issuer: Creates QR code (DA, Issuer-URL?)
Issuer -> User: presents or sends the QR code in Web interface/Issuer PC
User -> DAA: Scans the QR code and extracts DA+IssuerURL
DAA -> DAP: ID proofing starts on the device and extracts the user info 
DAP --> DAA: Success
DAA -> Issuer: Send Verified User Attributes + DA to IssuerURL
Issuer -> Issuer: Verifies User Attributes against userDB identified by DA
Issuer -> Issuer: create VC(TA_USER_ISSUER, Validation Succeeded)
Issuer -> DAA: validation succeeded for DA+VC(TA_USER_ISSUER, Validation Succeeded)
DAA -> DAA: Remember TA_USER_ISSUER, HIDA
DAA -> Cloud Agent: request to generate DAP_USER_ID_PK/SK (TODO: Where do we have to send it??)
DAA -> Issuer: Accept DA
Issuer --> DAA: OK
DAA -> DAP: Register FIDO Authenticator for this DA to the DAP+send VC (implicitly: User accepted DA)
DAP -> DAP: Remember USER_FIDO_PK for TA_USER_ISSUER
]]></source><desc>User onboarding to first issuer</desc><defs><marker viewBox="0 0 5 5" markerWidth="5" markerHeight="5" orient="auto" refX="5" refY="2.5" id="markerArrowBlock"><path d="M 0 0 L 5 2.5 L 0 5 z"></path></marker><marker viewBox="0 0 9.6 16" markerWidth="4" markerHeight="16" orient="auto" refX="9.6" refY="8" id="markerArrowOpen"><path d="M 9.6,8 1.92,16 0,13.7 5.76,8 0,2.286 1.92,0 9.6,8 z"></path></marker></defs><g class="title"><rect x="10" y="10" width="282.703125" height="28.75" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></rect><text x="15" y="30" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="15">User onboarding to first issuer</tspan></text></g><g class="actor"><rect x="10" y="48.75" width="55.1875" height="38.75" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></rect><text x="20" y="73.75" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="20">User</tspan></text></g><g class="actor"><rect x="10" y="1366.359375" width="55.1875" height="38.75" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></rect><text x="20" y="1391.359375" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="20">User</tspan></text></g><line x1="37.59375" x2="37.59375" y1="87.5" y2="1366.359375" stroke="#000000" fill="none" style="stroke-width: 2;"></line><g class="actor"><rect x="412.0625" y="48.75" width="47.59375" height="38.75" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></rect><text x="422.0625" y="73.75" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="422.0625">DAA</tspan></text></g><g class="actor"><rect x="412.0625" y="1366.359375" width="47.59375" height="38.75" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></rect><text x="422.0625" y="1391.359375" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="422.0625">DAA</tspan></text></g><line x1="435.859375" x2="435.859375" y1="87.5" y2="1366.359375" stroke="#000000" fill="none" style="stroke-width: 2;"></line><g class="actor"><rect x="1017.65625" y="48.75" width="72.78125" height="38.75" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></rect><text x="1027.65625" y="73.75" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="1027.65625">Issuer</tspan></text></g><g class="actor"><rect x="1017.65625" y="1366.359375" width="72.78125" height="38.75" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></rect><text x="1027.65625" y="1391.359375" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="1027.65625">Issuer</tspan></text></g><line x1="1054.046875" x2="1054.046875" y1="87.5" y2="1366.359375" stroke="#000000" fill="none" style="stroke-width: 2;"></line><g class="actor"><rect x="1530.7421875" y="48.75" width="116.765625" height="38.75" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></rect><text x="1540.7421875" y="73.75" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="1540.7421875">Cloud Agent</tspan></text></g><g class="actor"><rect x="1530.7421875" y="1366.359375" width="116.765625" height="38.75" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></rect><text x="1540.7421875" y="1391.359375" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="1540.7421875">Cloud Agent</tspan></text></g><line x1="1589.125" x2="1589.125" y1="87.5" y2="1366.359375" stroke="#000000" fill="none" style="stroke-width: 2;"></line><g class="actor"><rect x="1667.5078125" y="48.75" width="46.390625" height="38.75" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></rect><text x="1677.5078125" y="73.75" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="1677.5078125">DAP</tspan></text></g><g class="actor"><rect x="1667.5078125" y="1366.359375" width="46.390625" height="38.75" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></rect><text x="1677.5078125" y="1391.359375" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="1677.5078125">DAP</tspan></text></g><line x1="1690.703125" x2="1690.703125" y1="87.5" y2="1366.359375" stroke="#000000" fill="none" style="stroke-width: 2;"></line><g class="actor"><rect x="2106.5625" y="48.75" width="55.1875" height="38.75" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></rect><text x="2116.5625" y="73.75" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="2116.5625">GADI</tspan></text></g><g class="actor"><rect x="2106.5625" y="1366.359375" width="55.1875" height="38.75" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></rect><text x="2116.5625" y="1391.359375" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="2116.5625">GADI</tspan></text></g><line x1="2134.15625" x2="2134.15625" y1="87.5" y2="1366.359375" stroke="#000000" fill="none" style="stroke-width: 2;"></line><g class="signal"><text x="251.125" y="108.5234375" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="251.125">I want to get Digital Address (provide authentication + accept T&amp;C)</tspan><tspan dy="1.2em" x="251.125">Issuer has ID-proofed user before</tspan></text><line x1="37.59375" x2="1054.046875" y1="145.453125" y2="145.453125" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowBlock&quot;);"></line></g><g class="signal"><text x="1079.046875" y="179.828125" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="1079.046875">lookup ID-Attribs for that user</tspan></text><line x1="1054.046875" x2="1074.046875" y1="165.453125" y2="165.453125" stroke="#000000" fill="none" style="stroke-width: 2;"></line><line x1="1074.046875" x2="1074.046875" y1="165.453125" y2="189.203125" stroke="#000000" fill="none" style="stroke-width: 2;"></line><line x1="1074.046875" x2="1054.046875" y1="189.203125" y2="189.203125" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowBlock&quot;);"></line></g><g class="signal"><text x="1079.046875" y="218.578125" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="1079.046875">compute HIDA = hash(ID-Attribs)</tspan></text><line x1="1054.046875" x2="1074.046875" y1="204.203125" y2="204.203125" stroke="#000000" fill="none" style="stroke-width: 2;"></line><line x1="1074.046875" x2="1074.046875" y1="204.203125" y2="227.953125" stroke="#000000" fill="none" style="stroke-width: 2;"></line><line x1="1074.046875" x2="1054.046875" y1="227.953125" y2="227.953125" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowBlock&quot;);"></line></g><g class="signal"><text x="1292.6015625" y="253.578125" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="1292.6015625">securely send HIDA</tspan></text><line x1="1054.046875" x2="1690.703125" y1="261.703125" y2="261.703125" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowBlock&quot;);"></line></g><g class="signal"><text x="1779.875" y="292.328125" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="1779.875">lookup TA_USER_ISSUER for HIDA</tspan></text><line x1="1690.703125" x2="2134.15625" y1="300.453125" y2="300.453125" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowBlock&quot;);"></line></g><g class="signal"><text x="2159.15625" y="334.828125" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="2159.15625">lookup TA for HIDA</tspan></text><line x1="2134.15625" x2="2154.15625" y1="320.453125" y2="320.453125" stroke="#000000" fill="none" style="stroke-width: 2;"></line><line x1="2154.15625" x2="2154.15625" y1="320.453125" y2="344.203125" stroke="#000000" fill="none" style="stroke-width: 2;"></line><line x1="2154.15625" x2="2134.15625" y1="344.203125" y2="344.203125" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowBlock&quot;);"></line></g><g class="signal"><text x="2159.15625" y="373.578125" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="2159.15625">if TA not found: generate TA = random</tspan></text><line x1="2134.15625" x2="2154.15625" y1="359.203125" y2="359.203125" stroke="#000000" fill="none" style="stroke-width: 2;"></line><line x1="2154.15625" x2="2154.15625" y1="359.203125" y2="382.953125" stroke="#000000" fill="none" style="stroke-width: 2;"></line><line x1="2154.15625" x2="2134.15625" y1="382.953125" y2="382.953125" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowBlock&quot;);"></line></g><g class="signal"><text x="2159.15625" y="412.328125" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="2159.15625">store HIDA, HomeDAP-ID=DAP-ID, TA (in DLT)</tspan></text><line x1="2134.15625" x2="2154.15625" y1="397.953125" y2="397.953125" stroke="#000000" fill="none" style="stroke-width: 2;"></line><line x1="2154.15625" x2="2154.15625" y1="397.953125" y2="421.703125" stroke="#000000" fill="none" style="stroke-width: 2;"></line><line x1="2154.15625" x2="2134.15625" y1="421.703125" y2="421.703125" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowBlock&quot;);"></line></g><g class="signal"><text x="1723.296875" y="437.7265625" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="1723.296875">No conflict with TA.</tspan><tspan dy="1.2em" x="1723.296875">Return TA_USER_ISSUER = hash(TA, ISSUER_ID)</tspan></text><line x1="2134.15625" x2="1690.703125" y1="474.65625" y2="474.65625" stroke="#000000" fill="none" style="stroke-width: 2; stroke-dasharray: 6, 2; marker-end: url(&quot;#markerArrowBlock&quot;);"></line></g><g class="signal"><text x="1715.703125" y="509.03125" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="1715.703125">Create DA and DAP_USER_ID</tspan></text><line x1="1690.703125" x2="1710.703125" y1="494.65625" y2="494.65625" stroke="#000000" fill="none" style="stroke-width: 2;"></line><line x1="1710.703125" x2="1710.703125" y1="494.65625" y2="518.40625" stroke="#000000" fill="none" style="stroke-width: 2;"></line><line x1="1710.703125" x2="1690.703125" y1="518.40625" y2="518.40625" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowBlock&quot;);"></line></g><g class="signal"><text x="1715.703125" y="547.78125" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="1715.703125">Remember (TA_USER_ISSUER, DAP_USER_ID) in DLT</tspan></text><line x1="1690.703125" x2="1710.703125" y1="533.40625" y2="533.40625" stroke="#000000" fill="none" style="stroke-width: 2;"></line><line x1="1710.703125" x2="1710.703125" y1="533.40625" y2="557.15625" stroke="#000000" fill="none" style="stroke-width: 2;"></line><line x1="1710.703125" x2="1690.703125" y1="557.15625" y2="557.15625" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowBlock&quot;);"></line></g><g class="signal"><text x="1700.703125" y="582.78125" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="1700.703125">Send HIDA, TA_USER_ISSUER, DA to notify about DA</tspan></text><line x1="1690.703125" x2="2134.15625" y1="590.90625" y2="590.90625" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowBlock&quot;);"></line></g><g class="signal"><text x="2159.15625" y="634.8828125" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="2159.15625">Remember DA exists for HIDA</tspan><tspan dy="1.2em" x="2159.15625">(don’t store DA!)</tspan></text><line x1="2134.15625" x2="2154.15625" y1="610.90625" y2="610.90625" stroke="#000000" fill="none" style="stroke-width: 2;"></line><line x1="2154.15625" x2="2154.15625" y1="610.90625" y2="653.859375" stroke="#000000" fill="none" style="stroke-width: 2;"></line><line x1="2154.15625" x2="2134.15625" y1="653.859375" y2="653.859375" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowBlock&quot;);"></line></g><g class="signal"><text x="1881.640625" y="679.484375" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="1881.640625">Success</tspan></text><line x1="2134.15625" x2="1690.703125" y1="687.609375" y2="687.609375" stroke="#000000" fill="none" style="stroke-width: 2; stroke-dasharray: 6, 2; marker-end: url(&quot;#markerArrowBlock&quot;);"></line></g><g class="signal"><text x="1204.6328125" y="718.234375" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="1204.6328125">Return TA_USER_ISSUER, DAP_USER_ID, DA</tspan></text><line x1="1690.703125" x2="1054.046875" y1="726.359375" y2="726.359375" stroke="#000000" fill="none" style="stroke-width: 2; stroke-dasharray: 6, 2; marker-end: url(&quot;#markerArrowBlock&quot;);"></line></g><g class="signal"><text x="1079.046875" y="760.734375" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="1079.046875">Remember DA for user in userDB</tspan></text><line x1="1054.046875" x2="1074.046875" y1="746.359375" y2="746.359375" stroke="#000000" fill="none" style="stroke-width: 2;"></line><line x1="1074.046875" x2="1074.046875" y1="746.359375" y2="770.109375" stroke="#000000" fill="none" style="stroke-width: 2;"></line><line x1="1074.046875" x2="1054.046875" y1="770.109375" y2="770.109375" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowBlock&quot;);"></line></g><g class="signal"><text x="1079.046875" y="799.484375" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="1079.046875">Creates QR code (DA, Issuer-URL?)</tspan></text><line x1="1054.046875" x2="1074.046875" y1="785.109375" y2="785.109375" stroke="#000000" fill="none" style="stroke-width: 2;"></line><line x1="1074.046875" x2="1074.046875" y1="785.109375" y2="808.859375" stroke="#000000" fill="none" style="stroke-width: 2;"></line><line x1="1074.046875" x2="1054.046875" y1="808.859375" y2="808.859375" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowBlock&quot;);"></line></g><g class="signal"><text x="299.5078125" y="834.484375" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="299.5078125">presents or sends the QR code in Web interface/Issuer PC</tspan></text><line x1="1054.046875" x2="37.59375" y1="842.609375" y2="842.609375" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowBlock&quot;);"></line></g><g class="signal"><text x="47.59375" y="873.234375" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="47.59375">Scans the QR code and extracts DA+IssuerURL</tspan></text><line x1="37.59375" x2="435.859375" y1="881.359375" y2="881.359375" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowBlock&quot;);"></line></g><g class="signal"><text x="803.7734375" y="911.984375" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="803.7734375">ID proofing starts on the device and extracts the user info</tspan></text><line x1="435.859375" x2="1690.703125" y1="920.109375" y2="920.109375" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowBlock&quot;);"></line></g><g class="signal"><text x="1032.4921875" y="950.734375" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="1032.4921875">Success</tspan></text><line x1="1690.703125" x2="435.859375" y1="958.859375" y2="958.859375" stroke="#000000" fill="none" style="stroke-width: 2; stroke-dasharray: 6, 2; marker-end: url(&quot;#markerArrowBlock&quot;);"></line></g><g class="signal"><text x="538.2265625" y="989.484375" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="538.2265625">Send Verified User Attributes + DA to IssuerURL</tspan></text><line x1="435.859375" x2="1054.046875" y1="997.609375" y2="997.609375" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowBlock&quot;);"></line></g><g class="signal"><text x="1080.296875" y="1031.984375" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="1079.046875">Verifies User Attributes against userDB identified by DA</tspan></text><line x1="1054.046875" x2="1074.046875" y1="1017.609375" y2="1017.609375" stroke="#000000" fill="none" style="stroke-width: 2;"></line><line x1="1074.046875" x2="1074.046875" y1="1017.609375" y2="1041.359375" stroke="#000000" fill="none" style="stroke-width: 2;"></line><line x1="1074.046875" x2="1054.046875" y1="1041.359375" y2="1041.359375" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowBlock&quot;);"></line></g><g class="signal"><text x="1079.046875" y="1070.734375" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="1079.046875">create VC(TA_USER_ISSUER, Validation Succeeded)</tspan></text><line x1="1054.046875" x2="1074.046875" y1="1056.359375" y2="1056.359375" stroke="#000000" fill="none" style="stroke-width: 2;"></line><line x1="1074.046875" x2="1074.046875" y1="1056.359375" y2="1080.109375" stroke="#000000" fill="none" style="stroke-width: 2;"></line><line x1="1074.046875" x2="1054.046875" y1="1080.109375" y2="1080.109375" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowBlock&quot;);"></line></g><g class="signal"><text x="445.859375" y="1105.734375" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="445.859375">validation succeeded for DA+VC(TA_USER_ISSUER, Validation Succeeded)</tspan></text><line x1="1054.046875" x2="435.859375" y1="1113.859375" y2="1113.859375" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowBlock&quot;);"></line></g><g class="signal"><text x="460.859375" y="1148.234375" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="460.859375">Remember TA_USER_ISSUER, HIDA</tspan></text><line x1="435.859375" x2="455.859375" y1="1133.859375" y2="1133.859375" stroke="#000000" fill="none" style="stroke-width: 2;"></line><line x1="455.859375" x2="455.859375" y1="1133.859375" y2="1157.609375" stroke="#000000" fill="none" style="stroke-width: 2;"></line><line x1="455.859375" x2="435.859375" y1="1157.609375" y2="1157.609375" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowBlock&quot;);"></line></g><g class="signal"><text x="682.609375" y="1183.234375" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="682.609375">request to generate DAP_USER_ID_PK/SK (TODO: Where do we have to send it??)</tspan></text><line x1="435.859375" x2="1589.125" y1="1191.359375" y2="1191.359375" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowBlock&quot;);"></line></g><g class="signal"><text x="705.390625" y="1221.984375" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="704.140625">Accept DA</tspan></text><line x1="435.859375" x2="1054.046875" y1="1230.109375" y2="1230.109375" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowBlock&quot;);"></line></g><g class="signal"><text x="736.15625" y="1260.734375" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="736.15625">OK</tspan></text><line x1="1054.046875" x2="435.859375" y1="1268.859375" y2="1268.859375" stroke="#000000" fill="none" style="stroke-width: 2; stroke-dasharray: 6, 2; marker-end: url(&quot;#markerArrowBlock&quot;);"></line></g><g class="signal"><text x="671.8203125" y="1299.484375" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="671.8203125">Register FIDO Authenticator for this DA to the DAP+send VC (implicitly: User accepted DA)</tspan></text><line x1="435.859375" x2="1690.703125" y1="1307.609375" y2="1307.609375" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowBlock&quot;);"></line></g><g class="signal"><text x="1715.703125" y="1341.984375" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="1715.703125">Remember USER_FIDO_PK for TA_USER_ISSUER</tspan></text><line x1="1690.703125" x2="1710.703125" y1="1327.609375" y2="1327.609375" stroke="#000000" fill="none" style="stroke-width: 2;"></line><line x1="1710.703125" x2="1710.703125" y1="1327.609375" y2="1351.359375" stroke="#000000" fill="none" style="stroke-width: 2;"></line><line x1="1710.703125" x2="1690.703125" y1="1351.359375" y2="1351.359375" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowBlock&quot;);"></line></g></svg>