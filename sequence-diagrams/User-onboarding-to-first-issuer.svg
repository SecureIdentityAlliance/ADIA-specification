<?xml version="1.0" encoding="utf-8" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 20010904//EN" "http://www.w3.org/TR/2001/REC-SVG-20010904/DTD/svg10.dtd"><svg xmlns="http://www.w3.org/2000/svg" width="3293" height="1779" xmlns:xlink="http://www.w3.org/1999/xlink"><source><![CDATA[Title: User onboarding to first issuer
Participant User
Participant DAA
Participant Issuer
Participant Cloud Agent
Participant DAP
Participant GADI
User -> Issuer: I want to get Digital Address (provide authentication + accept T&C)\n Issuer has ID-proofed user before
Issuer -> Issuer: lookup ID-Attribs for that user
Issuer -> Issuer: compute HIDA = hash(ID-Attribs)
Issuer -> DAP: securely send HIDA
DAP -> GADI: lookup TA_USER_ISSUER for HIDA
GADI -> GADI: lookup TA for HIDA
GADI -> GADI: if TA not found: generate TA = random
GADI -> GADI: store HIDA, HomeDAP-ID=DAP-ID, TA (in DLT)
GADI --> DAP: No conflict with TA. \nReturn TA_USER_ISSUER = hash(TA, ISSUER_ID)
DAP -> DAP: Create DA and DAP_USER_ID 
DAP -> DAP: Remember (TA_USER_ISSUER, DAP_USER_ID) in DLT
DAP -> GADI: Send HIDA, TA_USER_ISSUER, DA to notify about DA
GADI -> GADI: Remember DA exists for HIDA\n(don't store DA!)
GADI --> DAP: Success
DAP --> Issuer: Return TA_USER_ISSUER, DAP_USER_ID, DA
Issuer -> Issuer: Remember DA and DAP_USER_ID for user in userDB
Issuer -> Issuer: Creates QR code (DA, Issuer-URL?)
Issuer -> User: presents or sends the QR code in Web interface/Issuer PC
User -> DAA: Scans the QR code and extracts DA+IssuerURL
DAA -> User: Do you accept DA?
User -> DAA: DA accepted
DAA -> DAP: Register FIDO Authenticator for this user and DA to the DAP
DAP -> DAP: Remember create and store VC(USER_FIDO_PK, DAP_USER_ID)
DAP --> DAA: acknowledge successful FIDO registration
DAA -> DAP: ID proofing starts on the device and extracts the user info
DAP -> DAP: If successful: Mark ID proofing as complete for this DAP_USER_ID
DAP --> DAA: Success
DAA -> Issuer: Send Verified User Attributes + DA to IssuerURL
Issuer -> Issuer: Verifies User Attributes against userDB identified by DA
Issuer -> Issuer: create VC(TA_USER_ISSUER, Validation Succeeded)
Issuer -> DAA: validation succeeded for DA+VC(TA_USER_ISSUER, Validation Succeeded)
DAA -> DAA: Remember TA_USER_ISSUER, HIDA
DAA -> Issuer: Accept DA
Issuer --> DAA: OK
DAA -> DAP: send VC(TA_USER_ISSUER, Validation Succeeded)
DAA -> Cloud Agent: request to generate DAP_USER_ID_PK/SK (use FIDO auth)
Cloud Agent -> Cloud Agent: Create VC(DAP_USER_ID_PK, USER_FIDO_PK)
Cloud Agent -> DAP: Send VC(DAP_USER_ID_PK, USER_FIDO_PK)
DAP --> Cloud Agent: Success
Cloud Agent --> DAA: Success
DAA -> User: Setup Completed]]></source><desc>User onboarding to first issuer</desc><defs><marker viewBox="0 0 5 5" markerWidth="5" markerHeight="5" orient="auto" refX="5" refY="2.5" id="markerArrowBlock"><path d="M 0 0 L 5 2.5 L 0 5 z"></path></marker><marker viewBox="0 0 9.6 16" markerWidth="4" markerHeight="16" orient="auto" refX="9.6" refY="8" id="markerArrowOpen"><path d="M 9.6,8 1.92,16 0,13.7 5.76,8 0,2.286 1.92,0 9.6,8 z"></path></marker></defs><g class="title"><rect x="10" y="10" width="307.6000061035156" height="28" style="stroke-width: 2px;" stroke="#000000" fill="#ffffff"></rect><text x="15" y="28" style="font-size: 16px; font-family: Andale Mono, monospace;"><tspan x="15">User onboarding to first issuer</tspan></text></g><g class="actor"><rect x="10" y="48" width="58.400001525878906" height="38" style="stroke-width: 2px;" stroke="#000000" fill="#ffffff"></rect><text x="20" y="71" style="font-size: 16px; font-family: Andale Mono, monospace;"><tspan x="20">User</tspan></text></g><g class="actor"><rect x="10" y="1721.6000022888184" width="58.400001525878906" height="38" style="stroke-width: 2px;" stroke="#000000" fill="#ffffff"></rect><text x="20" y="1744.6000022888184" style="font-size: 16px; font-family: Andale Mono, monospace;"><tspan x="20">User</tspan></text></g><line x1="39.20000076293945" x2="39.20000076293945" y1="86" y2="1721.6000022888184" style="stroke-width: 2px;" stroke="#000000" fill="none"></line><g class="actor"><rect x="447.59998893737793" y="48" width="48.79999923706055" height="38" style="stroke-width: 2px;" stroke="#000000" fill="#ffffff"></rect><text x="457.59998893737793" y="71" style="font-size: 16px; font-family: Andale Mono, monospace;"><tspan x="457.59998893737793">DAA</tspan></text></g><g class="actor"><rect x="447.59998893737793" y="1721.6000022888184" width="48.79999923706055" height="38" style="stroke-width: 2px;" stroke="#000000" fill="#ffffff"></rect><text x="457.59998893737793" y="1744.6000022888184" style="font-size: 16px; font-family: Andale Mono, monospace;"><tspan x="457.59998893737793">DAA</tspan></text></g><line x1="471.9999885559082" x2="471.9999885559082" y1="86" y2="1721.6000022888184" style="stroke-width: 2px;" stroke="#000000" fill="none"></line><g class="actor"><rect x="1105.9999771118164" y="48" width="77.5999984741211" height="38" style="stroke-width: 2px;" stroke="#000000" fill="#ffffff"></rect><text x="1115.9999771118164" y="71" style="font-size: 16px; font-family: Andale Mono, monospace;"><tspan x="1115.9999771118164">Issuer</tspan></text></g><g class="actor"><rect x="1105.9999771118164" y="1721.6000022888184" width="77.5999984741211" height="38" style="stroke-width: 2px;" stroke="#000000" fill="#ffffff"></rect><text x="1115.9999771118164" y="1744.6000022888184" style="font-size: 16px; font-family: Andale Mono, monospace;"><tspan x="1115.9999771118164">Issuer</tspan></text></g><line x1="1144.799976348877" x2="1144.799976348877" y1="86" y2="1721.6000022888184" style="stroke-width: 2px;" stroke="#000000" fill="none"></line><g class="actor"><rect x="1659.599952697754" y="48" width="125.5999984741211" height="38" style="stroke-width: 2px;" stroke="#000000" fill="#ffffff"></rect><text x="1669.599952697754" y="71" style="font-size: 16px; font-family: Andale Mono, monospace;"><tspan x="1669.599952697754">Cloud Agent</tspan></text></g><g class="actor"><rect x="1659.599952697754" y="1721.6000022888184" width="125.5999984741211" height="38" style="stroke-width: 2px;" stroke="#000000" fill="#ffffff"></rect><text x="1669.599952697754" y="1744.6000022888184" style="font-size: 16px; font-family: Andale Mono, monospace;"><tspan x="1669.599952697754">Cloud Agent</tspan></text></g><line x1="1722.3999519348145" x2="1722.3999519348145" y1="86" y2="1721.6000022888184" style="stroke-width: 2px;" stroke="#000000" fill="none"></line><g class="actor"><rect x="2112.3999462127686" y="48" width="48.79999923706055" height="38" style="stroke-width: 2px;" stroke="#000000" fill="#ffffff"></rect><text x="2122.3999462127686" y="71" style="font-size: 16px; font-family: Andale Mono, monospace;"><tspan x="2122.3999462127686">DAP</tspan></text></g><g class="actor"><rect x="2112.3999462127686" y="1721.6000022888184" width="48.79999923706055" height="38" style="stroke-width: 2px;" stroke="#000000" fill="#ffffff"></rect><text x="2122.3999462127686" y="1744.6000022888184" style="font-size: 16px; font-family: Andale Mono, monospace;"><tspan x="2122.3999462127686">DAP</tspan></text></g><line x1="2136.799945831299" x2="2136.799945831299" y1="86" y2="1721.6000022888184" style="stroke-width: 2px;" stroke="#000000" fill="none"></line><g class="actor"><rect x="2761.999969482422" y="48" width="58.400001525878906" height="38" style="stroke-width: 2px;" stroke="#000000" fill="#ffffff"></rect><text x="2771.999969482422" y="71" style="font-size: 16px; font-family: Andale Mono, monospace;"><tspan x="2771.999969482422">GADI</tspan></text></g><g class="actor"><rect x="2761.999969482422" y="1721.6000022888184" width="58.400001525878906" height="38" style="stroke-width: 2px;" stroke="#000000" fill="#ffffff"></rect><text x="2771.999969482422" y="1744.6000022888184" style="font-size: 16px; font-family: Andale Mono, monospace;"><tspan x="2771.999969482422">GADI</tspan></text></g><line x1="2791.1999702453613" x2="2791.1999702453613" y1="86" y2="1721.6000022888184" style="stroke-width: 2px;" stroke="#000000" fill="none"></line><g class="signal"><text x="270.3999824523926" y="105.39999961853027" style="font-size: 16px; font-family: Andale Mono, monospace;"><tspan x="270.3999824523926">I want to get Digital Address (provide authentication + accept T&amp;C)</tspan><tspan dy="1.2em" x="270.3999824523926">Issuer has ID-proofed user before</tspan></text><line x1="39.20000076293945" x2="1144.799976348877" y1="143.20000076293945" y2="143.20000076293945" style="stroke-width: 2px; marker-end: url(&quot;#markerArrowBlock&quot;);" stroke="#000000" fill="none"></line></g><g class="signal"><text x="1169.799976348877" y="177.20000076293945" style="font-size: 16px; font-family: Andale Mono, monospace;"><tspan x="1169.799976348877">lookup ID-Attribs for that user</tspan></text><line x1="1144.799976348877" x2="1164.799976348877" y1="163.20000076293945" y2="163.20000076293945" style="stroke-width: 2px;" stroke="#000000" fill="none"></line><line x1="1164.799976348877" x2="1164.799976348877" y1="163.20000076293945" y2="186.20000076293945" style="stroke-width: 2px;" stroke="#000000" fill="none"></line><line x1="1164.799976348877" x2="1144.799976348877" y1="186.20000076293945" y2="186.20000076293945" style="stroke-width: 2px; marker-end: url(&quot;#markerArrowBlock&quot;);" stroke="#000000" fill="none"></line></g><g class="signal"><text x="1169.799976348877" y="215.20000076293945" style="font-size: 16px; font-family: Andale Mono, monospace;"><tspan x="1169.799976348877">compute HIDA = hash(ID-Attribs)</tspan></text><line x1="1144.799976348877" x2="1164.799976348877" y1="201.20000076293945" y2="201.20000076293945" style="stroke-width: 2px;" stroke="#000000" fill="none"></line><line x1="1164.799976348877" x2="1164.799976348877" y1="201.20000076293945" y2="224.20000076293945" style="stroke-width: 2px;" stroke="#000000" fill="none"></line><line x1="1164.799976348877" x2="1144.799976348877" y1="224.20000076293945" y2="224.20000076293945" style="stroke-width: 2px; marker-end: url(&quot;#markerArrowBlock&quot;);" stroke="#000000" fill="none"></line></g><g class="signal"><text x="1554.399959564209" y="248.20000076293945" style="font-size: 16px; font-family: Andale Mono, monospace;"><tspan x="1554.399959564209">securely send HIDA</tspan></text><line x1="1144.799976348877" x2="2136.799945831299" y1="257.20000076293945" y2="257.20000076293945" style="stroke-width: 2px; marker-end: url(&quot;#markerArrowBlock&quot;);" stroke="#000000" fill="none"></line></g><g class="signal"><text x="2319.99995803833" y="286.20000076293945" style="font-size: 16px; font-family: Andale Mono, monospace;"><tspan x="2319.99995803833">lookup TA_USER_ISSUER for HIDA</tspan></text><line x1="2136.799945831299" x2="2791.1999702453613" y1="295.20000076293945" y2="295.20000076293945" style="stroke-width: 2px; marker-end: url(&quot;#markerArrowBlock&quot;);" stroke="#000000" fill="none"></line></g><g class="signal"><text x="2816.1999702453613" y="329.20000076293945" style="font-size: 16px; font-family: Andale Mono, monospace;"><tspan x="2816.1999702453613">lookup TA for HIDA</tspan></text><line x1="2791.1999702453613" x2="2811.1999702453613" y1="315.20000076293945" y2="315.20000076293945" style="stroke-width: 2px;" stroke="#000000" fill="none"></line><line x1="2811.1999702453613" x2="2811.1999702453613" y1="315.20000076293945" y2="338.20000076293945" style="stroke-width: 2px;" stroke="#000000" fill="none"></line><line x1="2811.1999702453613" x2="2791.1999702453613" y1="338.20000076293945" y2="338.20000076293945" style="stroke-width: 2px; marker-end: url(&quot;#markerArrowBlock&quot;);" stroke="#000000" fill="none"></line></g><g class="signal"><text x="2816.1999702453613" y="367.20000076293945" style="font-size: 16px; font-family: Andale Mono, monospace;"><tspan x="2816.1999702453613">if TA not found: generate TA = random</tspan></text><line x1="2791.1999702453613" x2="2811.1999702453613" y1="353.20000076293945" y2="353.20000076293945" style="stroke-width: 2px;" stroke="#000000" fill="none"></line><line x1="2811.1999702453613" x2="2811.1999702453613" y1="353.20000076293945" y2="376.20000076293945" style="stroke-width: 2px;" stroke="#000000" fill="none"></line><line x1="2811.1999702453613" x2="2791.1999702453613" y1="376.20000076293945" y2="376.20000076293945" style="stroke-width: 2px; marker-end: url(&quot;#markerArrowBlock&quot;);" stroke="#000000" fill="none"></line></g><g class="signal"><text x="2816.1999702453613" y="405.20000076293945" style="font-size: 16px; font-family: Andale Mono, monospace;"><tspan x="2816.1999702453613">store HIDA, HomeDAP-ID=DAP-ID, TA (in DLT)</tspan></text><line x1="2791.1999702453613" x2="2811.1999702453613" y1="391.20000076293945" y2="391.20000076293945" style="stroke-width: 2px;" stroke="#000000" fill="none"></line><line x1="2811.1999702453613" x2="2811.1999702453613" y1="391.20000076293945" y2="414.20000076293945" style="stroke-width: 2px;" stroke="#000000" fill="none"></line><line x1="2811.1999702453613" x2="2791.1999702453613" y1="414.20000076293945" y2="414.20000076293945" style="stroke-width: 2px; marker-end: url(&quot;#markerArrowBlock&quot;);" stroke="#000000" fill="none"></line></g><g class="signal"><text x="2257.5999641418457" y="428.6000003814697" style="font-size: 16px; font-family: Andale Mono, monospace;"><tspan x="2257.5999641418457">No conflict with TA.</tspan><tspan dy="1.2em" x="2257.5999641418457">Return TA_USER_ISSUER = hash(TA, ISSUER_ID)</tspan></text><line x1="2791.1999702453613" x2="2136.799945831299" y1="466.4000015258789" y2="466.4000015258789" style="stroke-width: 2px; stroke-dasharray: 6px, 2px; marker-end: url(&quot;#markerArrowBlock&quot;);" stroke="#000000" fill="none"></line></g><g class="signal"><text x="2161.799945831299" y="500.4000015258789" style="font-size: 16px; font-family: Andale Mono, monospace;"><tspan x="2161.799945831299">Create DA and DAP_USER_ID</tspan></text><line x1="2136.799945831299" x2="2156.799945831299" y1="486.4000015258789" y2="486.4000015258789" style="stroke-width: 2px;" stroke="#000000" fill="none"></line><line x1="2156.799945831299" x2="2156.799945831299" y1="486.4000015258789" y2="509.4000015258789" style="stroke-width: 2px;" stroke="#000000" fill="none"></line><line x1="2156.799945831299" x2="2136.799945831299" y1="509.4000015258789" y2="509.4000015258789" style="stroke-width: 2px; marker-end: url(&quot;#markerArrowBlock&quot;);" stroke="#000000" fill="none"></line></g><g class="signal"><text x="2161.799945831299" y="538.4000015258789" style="font-size: 16px; font-family: Andale Mono, monospace;"><tspan x="2161.799945831299">Remember (TA_USER_ISSUER, DAP_USER_ID) in DLT</tspan></text><line x1="2136.799945831299" x2="2156.799945831299" y1="524.4000015258789" y2="524.4000015258789" style="stroke-width: 2px;" stroke="#000000" fill="none"></line><line x1="2156.799945831299" x2="2156.799945831299" y1="524.4000015258789" y2="547.4000015258789" style="stroke-width: 2px;" stroke="#000000" fill="none"></line><line x1="2156.799945831299" x2="2136.799945831299" y1="547.4000015258789" y2="547.4000015258789" style="stroke-width: 2px; marker-end: url(&quot;#markerArrowBlock&quot;);" stroke="#000000" fill="none"></line></g><g class="signal"><text x="2233.5999641418457" y="571.4000015258789" style="font-size: 16px; font-family: Andale Mono, monospace;"><tspan x="2233.5999641418457">Send HIDA, TA_USER_ISSUER, DA to notify about DA</tspan></text><line x1="2136.799945831299" x2="2791.1999702453613" y1="580.4000015258789" y2="580.4000015258789" style="stroke-width: 2px; marker-end: url(&quot;#markerArrowBlock&quot;);" stroke="#000000" fill="none"></line></g><g class="signal"><text x="2816.1999702453613" y="624.0000019073486" style="font-size: 16px; font-family: Andale Mono, monospace;"><tspan x="2816.1999702453613">Remember DA exists for HIDA</tspan><tspan dy="1.2em" x="2816.1999702453613">(don't store DA!)</tspan></text><line x1="2791.1999702453613" x2="2811.1999702453613" y1="600.4000015258789" y2="600.4000015258789" style="stroke-width: 2px;" stroke="#000000" fill="none"></line><line x1="2811.1999702453613" x2="2811.1999702453613" y1="600.4000015258789" y2="642.6000022888184" style="stroke-width: 2px;" stroke="#000000" fill="none"></line><line x1="2811.1999702453613" x2="2791.1999702453613" y1="642.6000022888184" y2="642.6000022888184" style="stroke-width: 2px; marker-end: url(&quot;#markerArrowBlock&quot;);" stroke="#000000" fill="none"></line></g><g class="signal"><text x="2430.399959564209" y="666.6000022888184" style="font-size: 16px; font-family: Andale Mono, monospace;"><tspan x="2430.399959564209">Success</tspan></text><line x1="2791.1999702453613" x2="2136.799945831299" y1="675.6000022888184" y2="675.6000022888184" style="stroke-width: 2px; stroke-dasharray: 6px, 2px; marker-end: url(&quot;#markerArrowBlock&quot;);" stroke="#000000" fill="none"></line></g><g class="signal"><text x="1458.3999671936035" y="704.6000022888184" style="font-size: 16px; font-family: Andale Mono, monospace;"><tspan x="1458.3999671936035">Return TA_USER_ISSUER, DAP_USER_ID, DA</tspan></text><line x1="2136.799945831299" x2="1144.799976348877" y1="713.6000022888184" y2="713.6000022888184" style="stroke-width: 2px; stroke-dasharray: 6px, 2px; marker-end: url(&quot;#markerArrowBlock&quot;);" stroke="#000000" fill="none"></line></g><g class="signal"><text x="1169.799976348877" y="747.6000022888184" style="font-size: 16px; font-family: Andale Mono, monospace;"><tspan x="1169.799976348877">Remember DA and DAP_USER_ID for user in userDB</tspan></text><line x1="1144.799976348877" x2="1164.799976348877" y1="733.6000022888184" y2="733.6000022888184" style="stroke-width: 2px;" stroke="#000000" fill="none"></line><line x1="1164.799976348877" x2="1164.799976348877" y1="733.6000022888184" y2="756.6000022888184" style="stroke-width: 2px;" stroke="#000000" fill="none"></line><line x1="1164.799976348877" x2="1144.799976348877" y1="756.6000022888184" y2="756.6000022888184" style="stroke-width: 2px; marker-end: url(&quot;#markerArrowBlock&quot;);" stroke="#000000" fill="none"></line></g><g class="signal"><text x="1169.799976348877" y="785.6000022888184" style="font-size: 16px; font-family: Andale Mono, monospace;"><tspan x="1169.799976348877">Creates QR code (DA, Issuer-URL?)</tspan></text><line x1="1144.799976348877" x2="1164.799976348877" y1="771.6000022888184" y2="771.6000022888184" style="stroke-width: 2px;" stroke="#000000" fill="none"></line><line x1="1164.799976348877" x2="1164.799976348877" y1="771.6000022888184" y2="794.6000022888184" style="stroke-width: 2px;" stroke="#000000" fill="none"></line><line x1="1164.799976348877" x2="1144.799976348877" y1="794.6000022888184" y2="794.6000022888184" style="stroke-width: 2px; marker-end: url(&quot;#markerArrowBlock&quot;);" stroke="#000000" fill="none"></line></g><g class="signal"><text x="323.20000076293945" y="818.6000022888184" style="font-size: 16px; font-family: Andale Mono, monospace;"><tspan x="323.20000076293945">presents or sends the QR code in Web interface/Issuer PC</tspan></text><line x1="1144.799976348877" x2="39.20000076293945" y1="827.6000022888184" y2="827.6000022888184" style="stroke-width: 2px; marker-end: url(&quot;#markerArrowBlock&quot;);" stroke="#000000" fill="none"></line></g><g class="signal"><text x="49.20000076293945" y="856.6000022888184" style="font-size: 16px; font-family: Andale Mono, monospace;"><tspan x="49.20000076293945">Scans the QR code and extracts DA+IssuerURL</tspan></text><line x1="39.20000076293945" x2="471.9999885559082" y1="865.6000022888184" y2="865.6000022888184" style="stroke-width: 2px; marker-end: url(&quot;#markerArrowBlock&quot;);" stroke="#000000" fill="none"></line></g><g class="signal"><text x="173.99999618530273" y="894.6000022888184" style="font-size: 16px; font-family: Andale Mono, monospace;"><tspan x="173.99999618530273">Do you accept DA?</tspan></text><line x1="471.9999885559082" x2="39.20000076293945" y1="903.6000022888184" y2="903.6000022888184" style="stroke-width: 2px; marker-end: url(&quot;#markerArrowBlock&quot;);" stroke="#000000" fill="none"></line></g><g class="signal"><text x="202.79999542236328" y="932.6000022888184" style="font-size: 16px; font-family: Andale Mono, monospace;"><tspan x="202.79999542236328">DA accepted</tspan></text><line x1="39.20000076293945" x2="471.9999885559082" y1="941.6000022888184" y2="941.6000022888184" style="stroke-width: 2px; marker-end: url(&quot;#markerArrowBlock&quot;);" stroke="#000000" fill="none"></line></g><g class="signal"><text x="1021.1999549865723" y="970.6000022888184" style="font-size: 16px; font-family: Andale Mono, monospace;"><tspan x="1021.1999549865723">Register FIDO Authenticator for this user and DA to the DAP</tspan></text><line x1="471.9999885559082" x2="2136.799945831299" y1="979.6000022888184" y2="979.6000022888184" style="stroke-width: 2px; marker-end: url(&quot;#markerArrowBlock&quot;);" stroke="#000000" fill="none"></line></g><g class="signal"><text x="2161.799945831299" y="1013.6000022888184" style="font-size: 16px; font-family: Andale Mono, monospace;"><tspan x="2161.799945831299">Remember create and store VC(USER_FIDO_PK, DAP_USER_ID)</tspan></text><line x1="2136.799945831299" x2="2156.799945831299" y1="999.6000022888184" y2="999.6000022888184" style="stroke-width: 2px;" stroke="#000000" fill="none"></line><line x1="2156.799945831299" x2="2156.799945831299" y1="999.6000022888184" y2="1022.6000022888184" style="stroke-width: 2px;" stroke="#000000" fill="none"></line><line x1="2156.799945831299" x2="2136.799945831299" y1="1022.6000022888184" y2="1022.6000022888184" style="stroke-width: 2px; marker-end: url(&quot;#markerArrowBlock&quot;);" stroke="#000000" fill="none"></line></g><g class="signal"><text x="1112.3999671936035" y="1046.6000022888184" style="font-size: 16px; font-family: Andale Mono, monospace;"><tspan x="1112.3999671936035">acknowledge successful FIDO registration</tspan></text><line x1="2136.799945831299" x2="471.9999885559082" y1="1055.6000022888184" y2="1055.6000022888184" style="stroke-width: 2px; stroke-dasharray: 6px, 2px; marker-end: url(&quot;#markerArrowBlock&quot;);" stroke="#000000" fill="none"></line></g><g class="signal"><text x="1021.1999549865723" y="1084.6000022888184" style="font-size: 16px; font-family: Andale Mono, monospace;"><tspan x="1021.1999549865723">ID proofing starts on the device and extracts the user info</tspan></text><line x1="471.9999885559082" x2="2136.799945831299" y1="1093.6000022888184" y2="1093.6000022888184" style="stroke-width: 2px; marker-end: url(&quot;#markerArrowBlock&quot;);" stroke="#000000" fill="none"></line></g><g class="signal"><text x="2161.799945831299" y="1127.6000022888184" style="font-size: 16px; font-family: Andale Mono, monospace;"><tspan x="2161.799945831299">If successful: Mark ID proofing as complete for this DAP_USER_ID</tspan></text><line x1="2136.799945831299" x2="2156.799945831299" y1="1113.6000022888184" y2="1113.6000022888184" style="stroke-width: 2px;" stroke="#000000" fill="none"></line><line x1="2156.799945831299" x2="2156.799945831299" y1="1113.6000022888184" y2="1136.6000022888184" style="stroke-width: 2px;" stroke="#000000" fill="none"></line><line x1="2156.799945831299" x2="2136.799945831299" y1="1136.6000022888184" y2="1136.6000022888184" style="stroke-width: 2px; marker-end: url(&quot;#markerArrowBlock&quot;);" stroke="#000000" fill="none"></line></g><g class="signal"><text x="1270.7999687194824" y="1160.6000022888184" style="font-size: 16px; font-family: Andale Mono, monospace;"><tspan x="1270.7999687194824">Success</tspan></text><line x1="2136.799945831299" x2="471.9999885559082" y1="1169.6000022888184" y2="1169.6000022888184" style="stroke-width: 2px; stroke-dasharray: 6px, 2px; marker-end: url(&quot;#markerArrowBlock&quot;);" stroke="#000000" fill="none"></line></g><g class="signal"><text x="582.799976348877" y="1198.6000022888184" style="font-size: 16px; font-family: Andale Mono, monospace;"><tspan x="582.799976348877">Send Verified User Attributes + DA to IssuerURL</tspan></text><line x1="471.9999885559082" x2="1144.799976348877" y1="1207.6000022888184" y2="1207.6000022888184" style="stroke-width: 2px; marker-end: url(&quot;#markerArrowBlock&quot;);" stroke="#000000" fill="none"></line></g><g class="signal"><text x="1169.799976348877" y="1241.6000022888184" style="font-size: 16px; font-family: Andale Mono, monospace;"><tspan x="1169.799976348877">Verifies User Attributes against userDB identified by DA</tspan></text><line x1="1144.799976348877" x2="1164.799976348877" y1="1227.6000022888184" y2="1227.6000022888184" style="stroke-width: 2px;" stroke="#000000" fill="none"></line><line x1="1164.799976348877" x2="1164.799976348877" y1="1227.6000022888184" y2="1250.6000022888184" style="stroke-width: 2px;" stroke="#000000" fill="none"></line><line x1="1164.799976348877" x2="1144.799976348877" y1="1250.6000022888184" y2="1250.6000022888184" style="stroke-width: 2px; marker-end: url(&quot;#markerArrowBlock&quot;);" stroke="#000000" fill="none"></line></g><g class="signal"><text x="1169.799976348877" y="1279.6000022888184" style="font-size: 16px; font-family: Andale Mono, monospace;"><tspan x="1169.799976348877">create VC(TA_USER_ISSUER, Validation Succeeded)</tspan></text><line x1="1144.799976348877" x2="1164.799976348877" y1="1265.6000022888184" y2="1265.6000022888184" style="stroke-width: 2px;" stroke="#000000" fill="none"></line><line x1="1164.799976348877" x2="1164.799976348877" y1="1265.6000022888184" y2="1288.6000022888184" style="stroke-width: 2px;" stroke="#000000" fill="none"></line><line x1="1164.799976348877" x2="1144.799976348877" y1="1288.6000022888184" y2="1288.6000022888184" style="stroke-width: 2px; marker-end: url(&quot;#markerArrowBlock&quot;);" stroke="#000000" fill="none"></line></g><g class="signal"><text x="481.9999885559082" y="1312.6000022888184" style="font-size: 16px; font-family: Andale Mono, monospace;"><tspan x="481.9999885559082">validation succeeded for DA+VC(TA_USER_ISSUER, Validation Succeeded)</tspan></text><line x1="1144.799976348877" x2="471.9999885559082" y1="1321.6000022888184" y2="1321.6000022888184" style="stroke-width: 2px; marker-end: url(&quot;#markerArrowBlock&quot;);" stroke="#000000" fill="none"></line></g><g class="signal"><text x="496.9999885559082" y="1355.6000022888184" style="font-size: 16px; font-family: Andale Mono, monospace;"><tspan x="496.9999885559082">Remember TA_USER_ISSUER, HIDA</tspan></text><line x1="471.9999885559082" x2="491.9999885559082" y1="1341.6000022888184" y2="1341.6000022888184" style="stroke-width: 2px;" stroke="#000000" fill="none"></line><line x1="491.9999885559082" x2="491.9999885559082" y1="1341.6000022888184" y2="1364.6000022888184" style="stroke-width: 2px;" stroke="#000000" fill="none"></line><line x1="491.9999885559082" x2="471.9999885559082" y1="1364.6000022888184" y2="1364.6000022888184" style="stroke-width: 2px; marker-end: url(&quot;#markerArrowBlock&quot;);" stroke="#000000" fill="none"></line></g><g class="signal"><text x="765.1999816894531" y="1388.6000022888184" style="font-size: 16px; font-family: Andale Mono, monospace;"><tspan x="765.1999816894531">Accept DA</tspan></text><line x1="471.9999885559082" x2="1144.799976348877" y1="1397.6000022888184" y2="1397.6000022888184" style="stroke-width: 2px; marker-end: url(&quot;#markerArrowBlock&quot;);" stroke="#000000" fill="none"></line></g><g class="signal"><text x="798.7999820709229" y="1426.6000022888184" style="font-size: 16px; font-family: Andale Mono, monospace;"><tspan x="798.7999820709229">OK</tspan></text><line x1="1144.799976348877" x2="471.9999885559082" y1="1435.6000022888184" y2="1435.6000022888184" style="stroke-width: 2px; stroke-dasharray: 6px, 2px; marker-end: url(&quot;#markerArrowBlock&quot;);" stroke="#000000" fill="none"></line></g><g class="signal"><text x="1088.3999671936035" y="1464.6000022888184" style="font-size: 16px; font-family: Andale Mono, monospace;"><tspan x="1088.3999671936035">send VC(TA_USER_ISSUER, Validation Succeeded)</tspan></text><line x1="471.9999885559082" x2="2136.799945831299" y1="1473.6000022888184" y2="1473.6000022888184" style="stroke-width: 2px; marker-end: url(&quot;#markerArrowBlock&quot;);" stroke="#000000" fill="none"></line></g><g class="signal"><text x="842.799976348877" y="1502.6000022888184" style="font-size: 16px; font-family: Andale Mono, monospace;"><tspan x="842.799976348877">request to generate DAP_USER_ID_PK/SK (use FIDO auth)</tspan></text><line x1="471.9999885559082" x2="1722.3999519348145" y1="1511.6000022888184" y2="1511.6000022888184" style="stroke-width: 2px; marker-end: url(&quot;#markerArrowBlock&quot;);" stroke="#000000" fill="none"></line></g><g class="signal"><text x="1747.3999519348145" y="1545.6000022888184" style="font-size: 16px; font-family: Andale Mono, monospace;"><tspan x="1747.3999519348145">Create VC(DAP_USER_ID_PK, USER_FIDO_PK)</tspan></text><line x1="1722.3999519348145" x2="1742.3999519348145" y1="1531.6000022888184" y2="1531.6000022888184" style="stroke-width: 2px;" stroke="#000000" fill="none"></line><line x1="1742.3999519348145" x2="1742.3999519348145" y1="1531.6000022888184" y2="1554.6000022888184" style="stroke-width: 2px;" stroke="#000000" fill="none"></line><line x1="1742.3999519348145" x2="1722.3999519348145" y1="1554.6000022888184" y2="1554.6000022888184" style="stroke-width: 2px; marker-end: url(&quot;#markerArrowBlock&quot;);" stroke="#000000" fill="none"></line></g><g class="signal"><text x="1751.999942779541" y="1578.6000022888184" style="font-size: 16px; font-family: Andale Mono, monospace;"><tspan x="1751.999942779541">Send VC(DAP_USER_ID_PK, USER_FIDO_PK)</tspan></text><line x1="1722.3999519348145" x2="2136.799945831299" y1="1587.6000022888184" y2="1587.6000022888184" style="stroke-width: 2px; marker-end: url(&quot;#markerArrowBlock&quot;);" stroke="#000000" fill="none"></line></g><g class="signal"><text x="1895.9999504089355" y="1616.6000022888184" style="font-size: 16px; font-family: Andale Mono, monospace;"><tspan x="1895.9999504089355">Success</tspan></text><line x1="2136.799945831299" x2="1722.3999519348145" y1="1625.6000022888184" y2="1625.6000022888184" style="stroke-width: 2px; stroke-dasharray: 6px, 2px; marker-end: url(&quot;#markerArrowBlock&quot;);" stroke="#000000" fill="none"></line></g><g class="signal"><text x="1063.5999717712402" y="1654.6000022888184" style="font-size: 16px; font-family: Andale Mono, monospace;"><tspan x="1063.5999717712402">Success</tspan></text><line x1="1722.3999519348145" x2="471.9999885559082" y1="1663.6000022888184" y2="1663.6000022888184" style="stroke-width: 2px; stroke-dasharray: 6px, 2px; marker-end: url(&quot;#markerArrowBlock&quot;);" stroke="#000000" fill="none"></line></g><g class="signal"><text x="183.59999465942383" y="1692.6000022888184" style="font-size: 16px; font-family: Andale Mono, monospace;"><tspan x="183.59999465942383">Setup Completed</tspan></text><line x1="471.9999885559082" x2="39.20000076293945" y1="1701.6000022888184" y2="1701.6000022888184" style="stroke-width: 2px; marker-end: url(&quot;#markerArrowBlock&quot;);" stroke="#000000" fill="none"></line></g></svg>