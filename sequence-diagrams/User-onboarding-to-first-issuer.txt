Title: User onboarding to first issuer
Participant User
Participant DAA
Participant Issuer
Participant Cloud Agent
Participant DAP Agency
Participant Regional GADI Directory
User -> Issuer: I want to get Digital Address (provide authentication + accept T&C)\n Issuer has ID-proofed user before
Issuer -> Issuer: lookup ID-Attribs for that user
Issuer -> Issuer: compute HIDA = hash(ID-Attribs)
Issuer -> DAP Agency: securely send HIDA
DAP Agency -> Regional GADI Directory: lookup TA_USER_ISSUER for HIDA
Regional GADI Directory -> Regional GADI Directory: lookup TA for HIDA
Regional GADI Directory -> Regional GADI Directory: if TA not found: generate TA = random
Regional GADI Directory -> Regional GADI Directory: store HIDA, HomeDAP-ID=DAP-ID, TA (in DLT)
Regional GADI Directory --> DAP Agency: No conflict with TA. \nReturn TA_USER_ISSUER = hash(TA, ISSUER_ID)
DAP Agency -> DAP Agency: Create DA and DAP Agency_USER_ID 
DAP Agency -> DAP Agency: Remember (TA_USER_ISSUER, DAP Agency_USER_ID) in DLT
DAP Agency -> Regional GADI Directory: Send HIDA, TA_USER_ISSUER, DA to notify about DA
Regional GADI Directory -> Regional GADI Directory: Remember DA exists for HIDA\n(don't store DA!)
Regional GADI Directory --> DAP Agency: Success
DAP Agency --> Issuer: Return TA_USER_ISSUER, DAP Agency_USER_ID, DA
Issuer -> Issuer: Remember DA and DAP Agency_USER_ID for user in userDB
Issuer -> Issuer: Creates QR code (DA, Issuer-URL?)
Issuer -> User: presents or sends the QR code in Web interface/Issuer PC
User -> DAA: Scans the QR code and extracts DA+IssuerURL
DAA -> DAP Agency: Register FIDO Authenticator for this DA to the DAP (USER_FIDO_PK)
DAP Agency-> DAP Agency: Remember create and store VC(USER_FIDO_PK, DAP_USER_ID)
DAP Agency --> DAA: acknowledge successful FIDO registration
DAA -> DAP Agency: ID proofing starts on the device and extracts the user info 
DAP Agency -> DAP Agency: If successful: Mark ID proofing as complete for this DAP_USER_ID
DAP Agency --> DAA: Success
DAA -> Issuer: Send Verified User Attributes + DA to IssuerURL
Issuer -> Issuer: Verifies User Attributes against userDB identified by DA
Issuer -> Issuer: create VC(TA_USER_ISSUER, Validation Succeeded)
Issuer -> DAA: validation succeeded for DA+VC(TA_USER_ISSUER, Validation Succeeded)
DAA -> DAA: Remember TA_USER_ISSUER, HIDA
DAA -> Cloud Agent: request to generate DAP Agency_USER_ID_PK/SK (TODO: Where do we have to send it??)
DAA -> Issuer: Accept DA
Issuer --> DAA: OK
DAA -> DAP Agency: Register FIDO Authenticator for this DA to the DAP Agency+send VC (implicitly: User accepted DA)
DAP Agency -> DAP Agency: Remember USER_FIDO_PK for TA_USER_ISSUER
