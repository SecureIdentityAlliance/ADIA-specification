<?xml version="1.0" encoding="utf-8" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 20010904//EN" "http://www.w3.org/TR/2001/REC-SVG-20010904/DTD/svg10.dtd"><svg xmlns="http://www.w3.org/2000/svg" width="1108" height="848" xmlns:xlink="http://www.w3.org/1999/xlink"><source><![CDATA[Title: VC Present and Verification - ZKP
Participant User
Participant Issuer
Participant Cloud Agent
Participant DAP
participant SP

User -> SP: I want to get service (show DA)
SP -> DAP: request VP for the DA (proof offer)
DAP -> DAP: check the ledger\nfind USER_DAP_ID\nfind VC location

DAP -> Issuer: Queries for VC for user's DA
Issuer -> DAP: extract VC for DA
DAP -> User: Request User Consent (push something)
User -> DAP: FDIO Authentication (ETC)
DAP -> DAP: Access Granted
DAP -> Cloud Agent: request VP(proof offer, VC)
Cloud Agent -> Cloud Agent: Generate VP
Cloud Agent -> SP: Invite SP for DIDcomm conn
SP -> Cloud Agent: DIDcomm connection estabilshed
Cloud Agent -> SP: Send VP
SP -> DAP: request Credential Def, schema of the VC
DAP -> SP: return Credential Def, schema
SP -> SP: Verify VP
SP -> User: get service
]]></source><desc>VC Present and Verification - ZKP</desc><defs><marker viewBox="0 0 5 5" markerWidth="5" markerHeight="5" orient="auto" refX="5" refY="2.5" id="markerArrowBlock"><path d="M 0 0 L 5 2.5 L 0 5 z"></path></marker><marker viewBox="0 0 9.6 16" markerWidth="4" markerHeight="16" orient="auto" refX="9.6" refY="8" id="markerArrowOpen"><path d="M 9.6,8 1.92,16 0,13.7 5.76,8 0,2.286 1.92,0 9.6,8 z"></path></marker></defs><g class="title"><rect x="10" y="10" width="326.859375" height="28" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></rect><text x="15" y="29.5" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="15">VC Present and Verification - ZKP</tspan></text></g><g class="actor"><rect x="10" y="48" width="58.40625" height="38" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></rect><text x="20" y="72.5" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="20">User</tspan></text></g><g class="actor"><rect x="10" y="790.40625" width="58.40625" height="38" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></rect><text x="20" y="814.90625" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="20">User</tspan></text></g><line x1="39.203125" x2="39.203125" y1="86" y2="790.40625" stroke="#000000" fill="none" style="stroke-width: 2;"></line><g class="actor"><rect x="88.40625" y="48" width="77.609375" height="38" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></rect><text x="98.40625" y="72.5" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="98.40625">Issuer</tspan></text></g><g class="actor"><rect x="88.40625" y="790.40625" width="77.609375" height="38" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></rect><text x="98.40625" y="814.90625" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="98.40625">Issuer</tspan></text></g><line x1="127.2109375" x2="127.2109375" y1="86" y2="790.40625" stroke="#000000" fill="none" style="stroke-width: 2;"></line><g class="actor"><rect x="186.015625" y="48" width="125.625" height="38" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></rect><text x="196.015625" y="72.5" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="196.015625">Cloud Agent</tspan></text></g><g class="actor"><rect x="186.015625" y="790.40625" width="125.625" height="38" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></rect><text x="196.015625" y="814.90625" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="196.015625">Cloud Agent</tspan></text></g><line x1="248.828125" x2="248.828125" y1="86" y2="790.40625" stroke="#000000" fill="none" style="stroke-width: 2;"></line><g class="actor"><rect x="503.671875" y="48" width="48.8125" height="38" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></rect><text x="513.671875" y="72.5" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="513.671875">DAP</tspan></text></g><g class="actor"><rect x="503.671875" y="790.40625" width="48.8125" height="38" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></rect><text x="513.671875" y="814.90625" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="513.671875">DAP</tspan></text></g><line x1="528.078125" x2="528.078125" y1="86" y2="790.40625" stroke="#000000" fill="none" style="stroke-width: 2;"></line><g class="actor"><rect x="912.5390625" y="48" width="39.203125" height="38" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></rect><text x="922.5390625" y="72.5" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="922.5390625">SP</tspan></text></g><g class="actor"><rect x="912.5390625" y="790.40625" width="39.203125" height="38" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></rect><text x="922.5390625" y="814.90625" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="922.5390625">SP</tspan></text></g><line x1="932.140625" x2="932.140625" y1="86" y2="790.40625" stroke="#000000" fill="none" style="stroke-width: 2;"></line><g class="signal"><text x="336.84375" y="116.5" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="336.84375">I want to get service (show DA)</tspan></text><line x1="39.203125" x2="932.140625" y1="124" y2="124" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowBlock&quot;);"></line></g><g class="signal"><text x="562.078125" y="154.5" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="562.078125">request VP for the DA (proof offer)</tspan></text><line x1="932.140625" x2="528.078125" y1="162" y2="162" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowBlock&quot;);"></line></g><g class="signal"><text x="553.078125" y="215.203125" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="553.078125">check the ledger</tspan><tspan dy="1.2em" x="553.078125">find USER_DAP_ID</tspan><tspan dy="1.2em" x="553.078125">find VC location</tspan></text><line x1="528.078125" x2="548.078125" y1="182" y2="182" stroke="#000000" fill="none" style="stroke-width: 2;"></line><line x1="548.078125" x2="548.078125" y1="182" y2="243.40625" stroke="#000000" fill="none" style="stroke-width: 2;"></line><line x1="548.078125" x2="528.078125" y1="243.40625" y2="243.40625" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowBlock&quot;);"></line></g><g class="signal"><text x="193.22265625" y="268.90625" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="193.22265625">Queries for VC for user's DA</tspan></text><line x1="528.078125" x2="127.2109375" y1="276.40625" y2="276.40625" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowBlock&quot;);"></line></g><g class="signal"><text x="246.02734375" y="306.90625" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="246.02734375">extract VC for DA</tspan></text><line x1="127.2109375" x2="528.078125" y1="314.40625" y2="314.40625" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowBlock&quot;);"></line></g><g class="signal"><text x="106.0078125" y="344.90625" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="106.0078125">Request User Consent (push something)</tspan></text><line x1="528.078125" x2="39.203125" y1="352.40625" y2="352.40625" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowBlock&quot;);"></line></g><g class="signal"><text x="163.6171875" y="382.90625" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="163.6171875">FDIO Authentication (ETC)</tspan></text><line x1="39.203125" x2="528.078125" y1="390.40625" y2="390.40625" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowBlock&quot;);"></line></g><g class="signal"><text x="553.078125" y="424.40625" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="553.078125">Access Granted</tspan></text><line x1="528.078125" x2="548.078125" y1="410.40625" y2="410.40625" stroke="#000000" fill="none" style="stroke-width: 2;"></line><line x1="548.078125" x2="548.078125" y1="410.40625" y2="433.40625" stroke="#000000" fill="none" style="stroke-width: 2;"></line><line x1="548.078125" x2="528.078125" y1="433.40625" y2="433.40625" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowBlock&quot;);"></line></g><g class="signal"><text x="258.828125" y="458.90625" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="258.828125">request VP(proof offer, VC)</tspan></text><line x1="528.078125" x2="248.828125" y1="466.40625" y2="466.40625" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowBlock&quot;);"></line></g><g class="signal"><text x="273.828125" y="500.40625" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="273.828125">Generate VP</tspan></text><line x1="248.828125" x2="268.828125" y1="486.40625" y2="486.40625" stroke="#000000" fill="none" style="stroke-width: 2;"></line><line x1="268.828125" x2="268.828125" y1="486.40625" y2="509.40625" stroke="#000000" fill="none" style="stroke-width: 2;"></line><line x1="268.828125" x2="248.828125" y1="509.40625" y2="509.40625" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowBlock&quot;);"></line></g><g class="signal"><text x="465.6640625" y="534.90625" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="465.6640625">Invite SP for DIDcomm conn</tspan></text><line x1="248.828125" x2="932.140625" y1="542.40625" y2="542.40625" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowBlock&quot;);"></line></g><g class="signal"><text x="446.4609375" y="572.90625" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="446.4609375">DIDcomm connection estabilshed</tspan></text><line x1="932.140625" x2="248.828125" y1="580.40625" y2="580.40625" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowBlock&quot;);"></line></g><g class="signal"><text x="556.875" y="610.90625" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="556.875">Send VP</tspan></text><line x1="248.828125" x2="932.140625" y1="618.40625" y2="618.40625" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowBlock&quot;);"></line></g><g class="signal"><text x="538.078125" y="648.90625" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="538.078125">request Credential Def, schema of the VC</tspan></text><line x1="932.140625" x2="528.078125" y1="656.40625" y2="656.40625" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowBlock&quot;);"></line></g><g class="signal"><text x="590.8828125" y="686.90625" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="590.8828125">return Credential Def, schema</tspan></text><line x1="528.078125" x2="932.140625" y1="694.40625" y2="694.40625" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowBlock&quot;);"></line></g><g class="signal"><text x="957.140625" y="728.40625" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="957.140625">Verify VP</tspan></text><line x1="932.140625" x2="952.140625" y1="714.40625" y2="714.40625" stroke="#000000" fill="none" style="stroke-width: 2;"></line><line x1="952.140625" x2="952.140625" y1="714.40625" y2="737.40625" stroke="#000000" fill="none" style="stroke-width: 2;"></line><line x1="952.140625" x2="932.140625" y1="737.40625" y2="737.40625" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowBlock&quot;);"></line></g><g class="signal"><text x="432.859375" y="762.90625" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="432.859375">get service</tspan></text><line x1="932.140625" x2="39.203125" y1="770.40625" y2="770.40625" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowBlock&quot;);"></line></g></svg>